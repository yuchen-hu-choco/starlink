{"ast":null,"code":"import transform from \"./transform.js\";\nexport default function (topology) {\n  var t = transform(topology.transform),\n      key,\n      x0 = Infinity,\n      y0 = x0,\n      x1 = -x0,\n      y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\":\n        o.geometries.forEach(bboxGeometry);\n        break;\n\n      case \"Point\":\n        bboxPoint(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        o.coordinates.forEach(bboxPoint);\n        break;\n    }\n  }\n\n  topology.arcs.forEach(function (arc) {\n    var i = -1,\n        n = arc.length,\n        p;\n\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}","map":{"version":3,"sources":["D:/eclipse/work3/starlink/node_modules/topojson-client/src/bbox.js"],"names":["transform","topology","t","key","x0","Infinity","y0","x1","y1","bboxPoint","p","bboxGeometry","o","type","geometries","forEach","coordinates","arcs","arc","i","n","length","objects"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,gBAAtB;AAEA,eAAe,UAASC,QAAT,EAAmB;AAChC,MAAIC,CAAC,GAAGF,SAAS,CAACC,QAAQ,CAACD,SAAV,CAAjB;AAAA,MAAuCG,GAAvC;AAAA,MACIC,EAAE,GAAGC,QADT;AAAA,MACmBC,EAAE,GAAGF,EADxB;AAAA,MAC4BG,EAAE,GAAG,CAACH,EADlC;AAAA,MACsCI,EAAE,GAAG,CAACJ,EAD5C;;AAGA,WAASK,SAAT,CAAmBC,CAAnB,EAAsB;AACpBA,IAAAA,CAAC,GAAGR,CAAC,CAACQ,CAAD,CAAL;AACA,QAAIA,CAAC,CAAC,CAAD,CAAD,GAAON,EAAX,EAAeA,EAAE,GAAGM,CAAC,CAAC,CAAD,CAAN;AACf,QAAIA,CAAC,CAAC,CAAD,CAAD,GAAOH,EAAX,EAAeA,EAAE,GAAGG,CAAC,CAAC,CAAD,CAAN;AACf,QAAIA,CAAC,CAAC,CAAD,CAAD,GAAOJ,EAAX,EAAeA,EAAE,GAAGI,CAAC,CAAC,CAAD,CAAN;AACf,QAAIA,CAAC,CAAC,CAAD,CAAD,GAAOF,EAAX,EAAeA,EAAE,GAAGE,CAAC,CAAC,CAAD,CAAN;AAChB;;AAED,WAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACvB,YAAQA,CAAC,CAACC,IAAV;AACE,WAAK,oBAAL;AAA2BD,QAAAA,CAAC,CAACE,UAAF,CAAaC,OAAb,CAAqBJ,YAArB;AAAoC;;AAC/D,WAAK,OAAL;AAAcF,QAAAA,SAAS,CAACG,CAAC,CAACI,WAAH,CAAT;AAA0B;;AACxC,WAAK,YAAL;AAAmBJ,QAAAA,CAAC,CAACI,WAAF,CAAcD,OAAd,CAAsBN,SAAtB;AAAkC;AAHvD;AAKD;;AAEDR,EAAAA,QAAQ,CAACgB,IAAT,CAAcF,OAAd,CAAsB,UAASG,GAAT,EAAc;AAClC,QAAIC,CAAC,GAAG,CAAC,CAAT;AAAA,QAAYC,CAAC,GAAGF,GAAG,CAACG,MAApB;AAAA,QAA4BX,CAA5B;;AACA,WAAO,EAAES,CAAF,GAAMC,CAAb,EAAgB;AACdV,MAAAA,CAAC,GAAGR,CAAC,CAACgB,GAAG,CAACC,CAAD,CAAJ,EAASA,CAAT,CAAL;AACA,UAAIT,CAAC,CAAC,CAAD,CAAD,GAAON,EAAX,EAAeA,EAAE,GAAGM,CAAC,CAAC,CAAD,CAAN;AACf,UAAIA,CAAC,CAAC,CAAD,CAAD,GAAOH,EAAX,EAAeA,EAAE,GAAGG,CAAC,CAAC,CAAD,CAAN;AACf,UAAIA,CAAC,CAAC,CAAD,CAAD,GAAOJ,EAAX,EAAeA,EAAE,GAAGI,CAAC,CAAC,CAAD,CAAN;AACf,UAAIA,CAAC,CAAC,CAAD,CAAD,GAAOF,EAAX,EAAeA,EAAE,GAAGE,CAAC,CAAC,CAAD,CAAN;AAChB;AACF,GATD;;AAWA,OAAKP,GAAL,IAAYF,QAAQ,CAACqB,OAArB,EAA8B;AAC5BX,IAAAA,YAAY,CAACV,QAAQ,CAACqB,OAAT,CAAiBnB,GAAjB,CAAD,CAAZ;AACD;;AAED,SAAO,CAACC,EAAD,EAAKE,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAP;AACD","sourcesContent":["import transform from \"./transform.js\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n"]},"metadata":{},"sourceType":"module"}